(function(){var t={4370:function(t,e,i){"use strict";var s=i(9242),o=i(3396),l=i(7139);const a=t=>((0,o.dD)("data-v-94ae1416"),t=t(),(0,o.Cn)(),t),r={class:"section"},n={class:"container"},c={class:"has-text-right",style:{"margin-bottom":"10px"}},d={class:"table is-fullwidth is-striped",id:"record-table"},h={class:"field"},p=a((()=>(0,o._)("label",{for:"select-all-check"},null,-1))),u=a((()=>(0,o._)("th",null,"Side A",-1))),f=a((()=>(0,o._)("th",null,"Side B",-1))),m=a((()=>(0,o._)("polyline",{points:"3 6 5 6 21 6"},null,-1))),y=a((()=>(0,o._)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},null,-1))),b=a((()=>(0,o._)("line",{x1:"10",y1:"11",x2:"10",y2:"17"},null,-1))),g=a((()=>(0,o._)("line",{x1:"14",y1:"11",x2:"14",y2:"17"},null,-1))),x=[m,y,b,g],v=a((()=>(0,o._)("td",{colspan:"4",class:"has-text-centered"},"No records! Add a record to get started",-1))),C=[v],w={class:"is-middle"},_={class:"field"},k=["onUpdate:modelValue","id"],T=["for"],S=["onClick"],A=["onClick"],D=["onClick"];function $(t,e,i,a,m,y){const b=(0,o.up)("NavBar"),g=(0,o.up)("NewRecord"),v=(0,o.up)("DeleteRecord"),$=(0,o.up)("DesignSettings"),j=(0,o.up)("ImportExport");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(b,{onPrint:y.print,onDesign:e[0]||(e[0]=t=>this.designVisible=!0),onImportExport:e[1]||(e[1]=t=>this.importExportVisible=!0)},null,8,["onPrint"]),(0,o._)("section",r,[(0,o._)("div",n,[(0,o._)("div",c,[(0,o._)("button",{onClick:e[2]||(e[2]=(...t)=>y.showNewRecord&&y.showNewRecord(...t)),class:"button is-primary"},"+ Add Record")]),(0,o._)("table",d,[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,[(0,o._)("div",h,[(0,o.wy)((0,o._)("input",{class:"is-checkradio",id:"select-all-check",type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=e=>t.affectAll=e)},null,512),[[s.e8,t.affectAll]]),p])]),u,f,(0,o._)("th",{onClick:e[4]||(e[4]=t=>y.showDeleteRecord(y.listRecordsChecked))},[((0,o.wg)(),(0,o.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",class:(0,l.C_)(["feather feather-trash-2",{"is-active":y.recordsChecked}])},x,2))])])]),(0,o._)("tbody",null,[t.titles.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("tr",{key:0,onClick:e[5]||(e[5]=e=>t.$emit("new"))},C)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.titles,(t=>((0,o.wg)(),(0,o.iD)("tr",{key:t,class:"is-compact"},[(0,o._)("td",w,[(0,o._)("div",_,[(0,o.wy)((0,o._)("input",{class:"is-checkradio print-check","onUpdate:modelValue":e=>t.checked=e,id:"printcheck-"+t.id,type:"checkbox"},null,8,k),[[s.e8,t.checked]]),(0,o._)("label",{for:"printcheck-"+t.id},null,8,T)])]),(0,o._)("td",{onClick:e=>y.editRecord(t.id)},[(0,o._)("p",null,[(0,o._)("strong",null,(0,l.zw)(t.aside),1)]),(0,o._)("p",null,[(0,o._)("small",null,(0,l.zw)(t.artist),1)])],8,S),(0,o._)("td",{onClick:e=>y.editRecord(t.id)},[(0,o._)("p",null,[(0,o._)("strong",null,(0,l.zw)(t.bside),1)]),(0,o._)("p",null,[(0,o._)("small",null,(0,l.zw)(t.artistb||t.artist),1)])],8,A),(0,o._)("td",null,[(0,o._)("a",{class:"delete",onClick:e=>y.showDeleteRecord([t.id])},"delete",8,D)])])))),128))])])])]),(0,o.Wm)(g,{visible:t.newVisible,onClose:y.closeNewRecord,editId:t.recordToEdit},null,8,["visible","onClose","editId"]),(0,o.Wm)(v,{visible:t.deleteVisible,recordid:t.recordToDelete,onClose:y.closeDeleteRecord},null,8,["visible","recordid","onClose"]),(0,o.Wm)($,{visible:t.designVisible,onClose:y.closeDesignSettings},null,8,["visible","onClose"]),(0,o.Wm)(j,{visible:t.importExportVisible,onClose:y.closeImportExport,onReload:y.getRecords},null,8,["visible","onClose","onReload"])],64)}var j=i.p+"img/logo.54a97e13.svg",R=i.p+"img/brand.b86be978.svg";const I={class:"navbar is-danger"},O={class:"container"},B=(0,o.uE)('<div class="navbar-brand"><div class="navbar-item brand-text"><img src="'+j+'" alt="jukestudio logo"><img src="'+R+'" alt="jukestudio name"></div><div class="navbar-burger burger" data-target="navMenu"><span></span><span></span><span></span></div></div>',1),P={id:"navMenu",class:"navbar-menu"},z={class:"navbar-end"},U=(0,o._)("a",{class:"navbar-item import-export",href:"https://github.com/gilphilbert/jblabels/issues"}," Help ",-1);function V(t,e,i,s,l,a){return(0,o.wg)(),(0,o.iD)("nav",I,[(0,o._)("div",O,[B,(0,o._)("div",P,[(0,o._)("div",z,[(0,o._)("a",{class:"navbar-item",onClick:e[0]||(e[0]=e=>t.$emit("design"))}," Design "),(0,o._)("a",{class:"navbar-item print-titles",href:"#",onClick:e[1]||(e[1]=e=>t.$emit("print"))}," Print "),(0,o._)("a",{class:"navbar-item import-export",href:"#",onClick:e[2]||(e[2]=e=>t.$emit("importExport"))}," Import/export "),U])])])])}var L={name:"NavBar"},E=i(89);const W=(0,E.Z)(L,[["render",V]]);var M=W;const H=(0,o._)("div",{class:"modal-background"},null,-1),N={class:"modal-content"},q={class:"modal-card"},Y=(0,o._)("header",{class:"modal-card-head"},[(0,o._)("p",{class:"modal-card-title"},[(0,o._)("span",{class:"title-text"},"Add record")])],-1),F={class:"modal-card-body"},K={class:"is-center"},Z={class:"field"},G={class:"control"},J={class:"field"},Q={class:"control"},X={class:"field"},tt={class:"control"},et={class:"field"},it={class:"control"},st={class:"field is-horizontal"},ot={class:"field-body"},lt={class:"field"},at={class:"control is-expanded"},rt={key:0,class:"field"},nt={class:"control is-expanded"},ct={class:"box",id:"style-override"},dt={class:"field"},ht=(0,o._)("label",{for:"title-style-override"},"Alter style for this record",-1),pt={class:"field"},ut=(0,o._)("label",{class:"label"},"Style",-1),ft={class:"control"},mt={class:"select"},yt=["disabled"],bt=["value"],gt={class:"field"},xt=(0,o._)("label",{class:"label"},"Color",-1),vt={class:"control"},Ct={class:"select"},wt=["disabled"],_t=["value"],kt={class:"field"},Tt=["disabled"],St=(0,o._)("label",{for:"title-artist-fill"},"Colored background for artist",-1),At={class:"field"},Dt=["disabled"],$t=(0,o._)("label",{for:"title-title-fill"},"Colored background for title",-1),jt={class:"modal-card-foot columns"};function Rt(t,e,i,a,r,n){const c=(0,o.up)("LabelPreview");return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["modal",{"is-active":i.visible}])},[H,(0,o._)("div",N,[(0,o._)("div",q,[Y,(0,o._)("div",F,[(0,o._)("p",K,[(0,o.Wm)(c,{aside:t.aside,bside:t.bside,artist:t.artist,artistb:t.artistb,recordID:t.recordID,tag:t.tag,style:(0,l.j5)(t.style),font:t.font,primaryColor:t.primaryColor,shadeArtist:t.shadeArtist,shadeTitle:t.shadeTitle,smallLabel:t.smallLabel,genre:t.genre},null,8,["aside","bside","artist","artistb","recordID","tag","style","font","primaryColor","shadeArtist","shadeTitle","smallLabel","genre"])]),(0,o._)("div",Z,[(0,o._)("div",G,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Side A","onUpdate:modelValue":e[0]||(e[0]=e=>t.aside=e)},null,512),[[s.nr,t.aside]])])]),(0,o._)("div",J,[(0,o._)("div",Q,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Side B","onUpdate:modelValue":e[1]||(e[1]=e=>t.bside=e)},null,512),[[s.nr,t.bside]])])]),(0,o._)("div",X,[(0,o._)("div",tt,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Artist","onUpdate:modelValue":e[2]||(e[2]=e=>t.artist=e)},null,512),[[s.nr,t.artist]])])]),(0,o._)("div",et,[(0,o._)("div",it,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Side B artist (if different)","onUpdate:modelValue":e[3]||(e[3]=e=>t.artistb=e)},null,512),[[s.nr,t.artistb]])])]),(0,o._)("div",st,[(0,o._)("div",ot,[(0,o._)("div",lt,[(0,o._)("p",at,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Record ID (eg. COLUMBIA 3335)","onUpdate:modelValue":e[4]||(e[4]=e=>t.recordID=e)},null,512),[[s.nr,t.recordID]])])]),"arrows"===t.style?((0,o.wg)(),(0,o.iD)("div",rt,[(0,o._)("p",nt,[(0,o.wy)((0,o._)("input",{class:"input",type:"text",placeholder:"Genre (appears on right arrow)","onUpdate:modelValue":e[5]||(e[5]=e=>t.genre=e)},null,512),[[s.nr,t.genre]])])])):(0,o.kq)("",!0)])]),(0,o._)("div",ct,[(0,o._)("div",dt,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",type:"checkbox",id:"title-style-override",name:"","onUpdate:modelValue":e[6]||(e[6]=e=>t.styleOverride=e)},null,512),[[s.e8,t.styleOverride]]),ht]),(0,o._)("div",pt,[ut,(0,o._)("div",ft,[(0,o._)("div",mt,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[7]||(e[7]=e=>t.style=e),disabled:0==t.styleOverride},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.$styles.styles,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.style,value:t.style},(0,l.zw)(t.name),9,bt)))),128))],8,yt),[[s.bM,t.style]])])])]),(0,o._)("div",gt,[xt,(0,o._)("div",vt,[(0,o._)("div",Ct,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[8]||(e[8]=e=>t.primaryColor=e),disabled:0==t.styleOverride},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.$styles.colors,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.name,value:t.color},(0,l.zw)(t.name),9,_t)))),128))],8,wt),[[s.bM,t.primaryColor]])])])]),(0,o._)("div",kt,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"title-artist-fill",type:"checkbox",name:"","onUpdate:modelValue":e[9]||(e[9]=e=>t.shadeArtist=e),disabled:!1===t.styleOverride||"candycane"===t.style||"holly"===t.style},null,8,Tt),[[s.e8,t.shadeArtist]]),St]),(0,o._)("div",At,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"title-title-fill",type:"checkbox",name:"","onUpdate:modelValue":e[10]||(e[10]=e=>t.shadeTitle=e),disabled:!1===t.styleOverride||"candycane"===t.style||"holly"===t.style},null,8,Dt),[[s.e8,t.shadeTitle]]),$t])])]),(0,o._)("footer",jt,[(0,o._)("button",{class:"button column is-light",onClick:e[11]||(e[11]=(...t)=>n.resetAndClose&&n.resetAndClose(...t))},"Cancel"),(0,o._)("button",{class:"button column is-success",onClick:e[12]||(e[12]=(...t)=>n.saveRecord&&n.saveRecord(...t))},"Save")])])])],2)}const It={ref:"label",width:"225",height:"72"};function Ot(t,e,i,s,l,a){return(0,o.wg)(),(0,o.iD)("canvas",It,"Your browser does not support the HTML canvas tag.",512)}var Bt={name:"LabelPreview",props:["aside","bside","artist","artistb","recordID","tag","style","primaryColor","shadeArtist","shadeTitle","smallLabel","genre"],inject:["$styles","$database"],data:()=>({context:null}),methods:{stringBreaker:function(t){let e=this.$styles.styles[this.style],i=this.context.measureText(t).width;if(i>225-2*e.margins){var s=0;let i=t.split(" ");if(t.indexOf("(")>-1){const e=t.startsWith("(")||"("===t.slice(1,2)?")":"(";for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>-1){s=t,")"===e&&s++;break}}if(0===s){let t="";for(s=0;s<i.length;s++)if(t+=(s>0?" ":"")+i[s],this.context.measureText(t).width>225-2*e.margins){s-=1;break}}let o=[i.splice(s).join(" ")];i=i.join(" "),o.unshift(i),t=o}else t=[t];return t},paintLabel:function(){switch(this.context.clearRect(0,0,this.$refs["label"].width,this.$refs["label"].height),this.paintBox(),this.style){case"arrows":this.paintArrows();break;case"diamond":this.paintDiamond();break;case"multiple":this.paintSplitArtist();break;case"candycane":this.paintCandyCane();break;case"holly":this.paintHolly();break}this.paintText(),this.printRecordID()},paintBox:function(){this.context.fillStyle=this.shadeTitleColor,this.context.fillRect(0,0,225,72),this.context.lineWidth=this.$database.options.get("thickBorders")?"5":"1",this.context.strokeStyle=this.primaryColorHex,this.context.strokeRect(0,0,225,72)},paintArrows:function(){this.context.fillStyle=this.primaryColorHex,this.context.fillRect(0,32,225,8),this.context.fillStyle=this.shadeArtistColor,this.context.lineWidth="1",this.context.strokeStyle=this.primaryColorHex,this.context.fillRect(32.5,28,160,16),this.context.strokeRect(32.5,28,160,16),this.context.fillStyle=this.primaryColorHex,this.context.beginPath(),this.context.moveTo(32.5,29),this.context.lineTo(32.5,43),this.context.lineTo(38,36.5),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.moveTo(192.5,29),this.context.lineTo(192.5,43),this.context.lineTo(187,36.5),this.context.closePath(),this.context.fill()},paintDiamond(){this.context.fillStyle=this.primaryColorHex,this.context.fillRect(0,32,225,8),this.context.fillStyle=this.shadeArtistColor,this.context.lineWidth="1",this.context.strokeStyle=this.primaryColorHex,this.context.beginPath(),this.context.moveTo(22,36),this.context.lineTo(31,27),this.context.lineTo(194,27),this.context.lineTo(203,36),this.context.lineTo(194,45),this.context.lineTo(31,45),this.context.closePath(),this.context.fill(),this.context.stroke()},paintStars(){},paintSplitArtist(){this.context.strokeStyle=this.primaryColorHex,this.context.lineWidth="2",this.context.beginPath(),this.context.moveTo(20,36),this.context.lineTo(205,36),this.context.closePath(),this.context.stroke()},paintCandyCane(){this.context.fillStyle="#abdca8",this.context.fillRect(0,0,225,72),this.context.lineWidth="1",this.context.strokeStyle="#d3444a",this.context.strokeRect(0,0,225,72);var t=new Image;t.height=50,t.onload=()=>{this.context.drawImage(t,6,6,23.5,60),this.context.drawImage(t,195.5,6,23.5,60)},t.src="images/candycane.png",this.context.fillStyle="#ffffff",this.context.lineWidth="1",this.context.strokeStyle="#d3444a",this.context.fillRect(36.5,28,152,16),this.context.strokeRect(36.5,28,152,16),this.context.fillStyle="#d3444a",this.context.beginPath(),this.context.moveTo(36.5,29),this.context.lineTo(36.5,43),this.context.lineTo(44,36.5),this.context.closePath(),this.context.fill(),this.context.beginPath(),this.context.moveTo(188.5,29),this.context.lineTo(188.5,43),this.context.lineTo(181,36.5),this.context.closePath(),this.context.fill()},paintHolly(){this.context.fillStyle="#ffffff",this.context.fillRect(0,0,225,72),this.context.lineWidth="1",this.context.strokeStyle="#ff0000",this.context.strokeRect(0,0,225,72);var t=new Image;t.height=50,t.onload=()=>{this.context.drawImage(t,10,18),this.context.drawImage(t,197,18)},t.src="images/holly.png",this.context.strokeStyle="#ff0000",this.context.lineWidth="1",this.context.beginPath(),this.context.moveTo(35,26),this.context.lineTo(190,26),this.context.closePath(),this.context.stroke(),this.context.beginPath(),this.context.moveTo(35,46),this.context.lineTo(190,46),this.context.closePath(),this.context.stroke()},printRecordID(){const t=this.$styles.fonts[this.$database.options.get("font")];let e=this.recordID;this.$database.options.get("allCaps")&&(e=e.toUpperCase()),this.context.fillStyle="#000000",this.context.textAlign="right",this.context.font=t.idSize+"px "+t.name,this.context.fillText(e,223,68)},paintText(){this.context.fillStyle="black";const t=this.$styles.fonts[this.$database.options.get("font")];this.context.font=t.titleSize+"px "+t.name,this.context.textAlign="center",this.context.textBaseline="middle";let e=this.aside,i=this.bside,s=this.artist,o=this.artistb;this.$database.options.get("allCaps")&&(e=e.toUpperCase(),i=i.toUpperCase(),s=s.toUpperCase(),o=o.toUpperCase()),this.$database.options.get("quotes")&&(e=""!==e?'"'+e+'"':e,i=""!==i?'"'+i+'"':i);const l=this.stringBreaker(e);if(1===l.length?this.context.fillText(l[0],112.5,15):(this.context.fillText(l[0],112.5,9),this.context.fillText(l[1],112.5,20)),"multiple"!==this.style){let t=s;""!==o&&(t+=" / "+o),this.context.fillText(t,112.5,36)}else this.context.fillText(s,112.5,29),this.context.fillText(o,112.5,44);const a=this.stringBreaker(i);1===a.length?this.context.fillText(a,112.5,58):(this.context.fillText(a[0],112.5,53),this.context.fillText(a[1],112.5,64)),"arrows"===this.style&&""!==this.genre&&(this.context.textAlign="right",this.context.font="8px Retro",this.context.fillStyle="#ffffff",this.context.fillText("HIT",30,36),this.context.textAlign="left",this.context.fillText(this.genre.toUpperCase(),195,36))}},watch:{primaryColor(){this.paintLabel()},style(){this.paintLabel()},shadeArtist(){this.paintLabel()},shadeTitle(){this.paintLabel()},aside(){this.paintLabel()},bside(){this.paintLabel()},artist(){this.paintLabel()},artistb(){this.paintLabel()},recordID(){this.paintLabel()},tag(){this.paintLabel()},genre(){this.paintLabel()}},mounted:function(){this.context=this.$refs["label"].getContext("2d"),this.paintLabel()},computed:{primaryColorHex(){return this.$styles.colors[this.primaryColor].primary},shadeArtistColor(){let t="#ffffff";return this.shadeArtist&&(t=this.$styles.colors[this.primaryColor].fill),t},shadeTitleColor(){let t="#ffffff";return this.shadeTitle&&(t=this.$styles.colors[this.primaryColor].fill),t}}};const Pt=(0,E.Z)(Bt,[["render",Ot]]);var zt=Pt,Ut={name:"NewRecord",components:{LabelPreview:zt},inject:["$styles","$database"],props:["editId","visible"],data:()=>({aside:"",bside:"",artist:"",artistb:"",recordID:"",tag:"",styleOverride:!1,primaryColor:"red",font:"retro",style:"arrows",shadeArtist:!1,shadeTitle:!1,smallLabel:!1,genre:""}),created:function(){},methods:{resetValues:function(){this.style=this.$database.options.get("style"),this.primaryColor=this.$database.options.get("primaryColor"),this.shadeArtist=this.$database.options.get("shadeArtist"),this.shadeTitle=this.$database.options.get("shadeTitle"),this.font=this.$database.options.get("font"),this.smallLabel=this.$database.options.get("smallLabel"),this.styleOverride=!1,this.aside="",this.bside="",this.artist="",this.artistb="",this.recordID="",this.tag="",this.genre=""},saveRecord:function(){let t={aside:this.aside,bside:this.bside,artist:this.artist,artistb:this.artistb,recordID:this.recordID,tag:this.tag,genre:this.genre};!0===this.styleOverride&&(t["styleOverride"]={primaryColor:this.primaryColor,font:this.font,style:this.style,shadeArtist:this.shadeArtist,shadeTitle:this.shadeTitle}),null!==this.editId&&void 0!==this.editId?this.$database.titles.update(this.editId,t):this.$database.titles.add(t),this.resetAndClose()},resetAndClose:function(){this.resetValues(),this.$emit("close")}},watch:{editId(){if(void 0!==this.editId&&null!==this.editId){const t=this.$database.titles.get(this.editId);this.aside=t.aside,this.bside=t.bside,this.artist=t.artist,this.artistb=t.artistb,this.recordID=t.recordID,this.tag=t.tag,this.genre=t.genre,Object.keys(t).includes("styleOverride")&&(this.styleOverride=!0,this.primaryColor=t.styleOverride.primaryColor,this.shadeArtist=t.styleOverride.shadeArtist,this.shadeTitle=t.styleOverride.shadeTitle,this.style=t.styleOverride.style,this.font=t.styleOverride.font)}},styleOverride(){!1===this.styleOverride&&(this.style=this.$database.options.get("style"),this.primaryColor=this.$database.options.get("primaryColor"),this.shadeArtist=this.$database.options.get("shadeArtist"),this.shadeTitle=this.$database.options.get("shadeTitle"),this.font=this.$database.options.get("font"))}}};const Vt=(0,E.Z)(Ut,[["render",Rt]]);var Lt=Vt;const Et=(0,o._)("div",{class:"modal-background"},null,-1),Wt={class:"modal-content"},Mt={class:"modal-card"},Ht={class:"modal-card-head"},Nt={class:"modal-card-title"},qt={class:"title-text"},Yt={class:"modal-card-body"},Ft={class:"is-center"},Kt={class:"modal-card-foot columns"};function Zt(t,e,i,s,a,r){return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["modal",{"is-active":i.visible}])},[Et,(0,o._)("div",Wt,[(0,o._)("div",Mt,[(0,o._)("header",Ht,[(0,o._)("p",Nt,[(0,o._)("span",qt,"Delete record"+(0,l.zw)(i.recordid&&i.recordid.length>1?"s":""),1)])]),(0,o._)("div",Yt,[(0,o._)("p",Ft," Are you sure you want to delete "+(0,l.zw)(i.recordid&&i.recordid.length>1?"multiple records":"this record")+"? ",1)]),(0,o._)("footer",Kt,[(0,o._)("button",{class:"button column is-light",onClick:e[0]||(e[0]=(...t)=>r.close&&r.close(...t))},"Cancel"),(0,o._)("button",{class:"button column is-primary",onClick:e[1]||(e[1]=(...t)=>r.deleteRecord&&r.deleteRecord(...t))},"Delete")])])])],2)}var Gt={name:"DeleteRecord",props:["visible","recordid"],inject:["$styles","$database"],methods:{close:function(){this.$emit("close")},deleteRecord:function(){this.recordid.forEach((t=>{this.$database.titles.remove(t)})),this.$emit("close")}}};const Jt=(0,E.Z)(Gt,[["render",Zt]]);var Qt=Jt;const Xt=(0,o._)("div",{class:"modal-background"},null,-1),te={class:"modal-content"},ee={class:"modal-card"},ie=(0,o._)("header",{class:"modal-card-head"},[(0,o._)("p",{class:"modal-card-title"},[(0,o._)("span",{class:"title-text"},"Design")])],-1),se={class:"modal-card-body"},oe={class:"field"},le=(0,o._)("label",{class:"label"},"Paper type",-1),ae={class:"control"},re={class:"select"},ne=["value"],ce={class:"field"},de=["disabled"],he=(0,o._)("label",{for:"spacing-width"},"Wider spacing (for easier cutting)",-1),pe={class:"field"},ue=(0,o._)("label",{class:"label"},"Font",-1),fe={class:"control"},me={class:"select"},ye=["value"],be={class:"field"},ge=(0,o._)("label",{for:"force-uppercase"},"Force Uppercase",-1),xe={class:"field"},ve=(0,o._)("label",{for:"force-quotes"},"Put quotes around titles",-1),Ce={class:"field"},we=(0,o._)("label",{class:"label"},"Style",-1),_e={class:"control"},ke={class:"select"},Te=["value"],Se={class:"field"},Ae=(0,o._)("label",{class:"label"},"Color",-1),De={class:"control"},$e={class:"select"},je=["value"],Re={class:"field"},Ie=(0,o._)("label",{for:"force-shade-artist"},"Colored background for artist",-1),Oe={class:"field"},Be=(0,o._)("label",{for:"force-shade-title"},"Colored background for titles",-1),Pe={class:"field"},ze=(0,o._)("label",{for:"thick-borders"},"Thick borders",-1),Ue={class:"modal-card-foot columns"};function Ve(t,e,i,a,r,n){return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["modal",{"is-active":i.visible}])},[Xt,(0,o._)("div",te,[(0,o._)("div",ee,[ie,(0,o._)("div",se,[(0,o._)("div",oe,[le,(0,o._)("div",ae,[(0,o._)("div",re,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.paperType=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.paperTypes,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.name,value:t.name},(0,l.zw)(t.text),9,ne)))),128))],512),[[s.bM,t.paperType]])])])]),(0,o._)("div",ce,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"spacing-width",type:"checkbox",name:"","onUpdate:modelValue":e[1]||(e[1]=e=>t.wideSpacing=e),disabled:"letter"!==t.paperType&&"a4"!==t.paperType},null,8,de),[[s.e8,t.wideSpacing]]),he]),(0,o._)("div",pe,[ue,(0,o._)("div",fe,[(0,o._)("div",me,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.font=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.$styles.fonts,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.font,value:t.font},(0,l.zw)(t.name),9,ye)))),128))],512),[[s.bM,t.font]])])])]),(0,o._)("div",be,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"force-uppercase",type:"checkbox",name:"","onUpdate:modelValue":e[3]||(e[3]=e=>t.allCaps=e)},null,512),[[s.e8,t.allCaps]]),ge]),(0,o._)("div",xe,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"force-quotes",type:"checkbox",name:"","onUpdate:modelValue":e[4]||(e[4]=e=>t.quotes=e)},null,512),[[s.e8,t.quotes]]),ve]),(0,o._)("div",Ce,[we,(0,o._)("div",_e,[(0,o._)("div",ke,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.style=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.$styles.styles,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.style,value:t.style},(0,l.zw)(t.name),9,Te)))),128))],512),[[s.bM,t.style]])])])]),(0,o._)("div",Se,[Ae,(0,o._)("div",De,[(0,o._)("div",$e,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":e[6]||(e[6]=e=>t.primaryColor=e)},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.$styles.colors,(t=>((0,o.wg)(),(0,o.iD)("option",{key:t.color,value:t.color},(0,l.zw)(t.name),9,je)))),128))],512),[[s.bM,t.primaryColor]])])])]),(0,o._)("div",Re,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"force-shade-artist",type:"checkbox",name:"","onUpdate:modelValue":e[7]||(e[7]=e=>t.shadeArtist=e)},null,512),[[s.e8,t.shadeArtist]]),Ie]),(0,o._)("div",Oe,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"force-shade-title",type:"checkbox",name:"","onUpdate:modelValue":e[8]||(e[8]=e=>t.shadeTitle=e)},null,512),[[s.e8,t.shadeTitle]]),Be]),(0,o._)("div",Pe,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"thick-borders",type:"checkbox",name:"","onUpdate:modelValue":e[9]||(e[9]=e=>t.thickBorders=e)},null,512),[[s.e8,t.thickBorders]]),ze])]),(0,o._)("footer",Ue,[(0,o._)("button",{class:"button column is-light close-modal",onClick:e[10]||(e[10]=(...t)=>n.resetAndClose&&n.resetAndClose(...t))},"Cancel"),(0,o._)("button",{class:"button column is-success save",onClick:e[11]||(e[11]=(...t)=>n.save&&n.save(...t))},"Save")])])])],2)}var Le={name:"DesignSettings",inject:["$styles","$database"],props:["visible"],data:()=>({paperTypes:{letter:{name:"letter",text:"Plain paper (US letter)"},a4:{name:"a4",text:"Plain paper (A4)"},double10:{name:"double10",text:"Pre-printed 5x2"},single12:{name:"single12",text:"Pre-printed 12x1"}},paperType:"letter",wideSpacing:!1,font:"retro",allCaps:!0,quotes:!0,style:"arrows",primaryColor:"red",shadeArtist:!1,shadeTitle:!1,thickBorders:!1}),created:function(){this.getSettings()},methods:{getSettings(){const t=this.$database.options.getAll();this.paperType=t.paperType,this.wideSpacing=t.spacing,this.font=t.font,this.allCaps=t.allCaps,this.quotes=t.quotes,this.style=t.style,this.primaryColor=t.primaryColor,this.shadeArtist=t.shadeArtist,this.shadeTitle=t.shadeTitle,this.thickBorders=t.thickBorders},resetAndClose(){this.$emit("close"),this.getSettings()},save(){this.$database.options.set("paperType",this.paperType),this.$database.options.set("spacing",this.spacing),this.$database.options.set("font",this.font),this.$database.options.set("allCaps",this.allCaps),this.$database.options.set("quotes",this.quotes),this.$database.options.set("style",this.style),this.$database.options.set("primaryColor",this.primaryColor),this.$database.options.set("shadeArtist",this.shadeArtist),this.$database.options.set("shadeTitle",this.shadeTitle),this.$database.options.set("thickBorders",this.thickBorders),this.$emit("close")}},watch:{visible(){this.visible&&this.getSettings()}}};const Ee=(0,E.Z)(Le,[["render",Ve]]);var We=Ee;const Me=(0,o._)("div",{class:"modal-background"},null,-1),He={class:"modal-content"},Ne={class:"modal-card"},qe=(0,o._)("header",{class:"modal-card-head"},[(0,o._)("p",{class:"modal-card-title"},[(0,o._)("span",{class:"title-text"},"Import / Export")])],-1),Ye={class:"modal-card-body"},Fe={class:"field"},Ke=(0,o._)("label",{for:"export-db"},"Export library and settings",-1),Ze={class:"field"},Ge=(0,o._)("label",{for:"export-csv"},"Export library only (CSV)",-1),Je={class:"field"},Qe=(0,o._)("hr",null,null,-1),Xe={class:"field"},ti=(0,o._)("div",{class:"notification is-warning is-light"},[(0,o._)("strong",null,"Note"),(0,o.Uk)(" To import a library in CSV format, your file must be arranged with three or four columns as follows:"),(0,o._)("br"),(0,o.Uk)("  Side A, Side B, Artist, Side B Artist"),(0,o._)("br"),(0,o.Uk)("(Side B Artist only needs to be included if different from Side A) ")],-1),ei={class:"modal-card-foot columns"};function ii(t,e,i,a,r,n){return(0,o.wg)(),(0,o.iD)("div",{class:(0,l.C_)(["modal",{"is-active":i.visible}])},[Me,(0,o._)("div",He,[(0,o._)("div",Ne,[qe,(0,o._)("div",Ye,[(0,o._)("div",Fe,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"export-db",type:"radio",value:"db","onUpdate:modelValue":e[0]||(e[0]=e=>t.exportType=e)},null,512),[[s.G2,t.exportType]]),Ke]),(0,o._)("div",Ze,[(0,o.wy)((0,o._)("input",{class:"is-checkradio is-success is-circle",id:"export-csv",type:"radio",value:"csv","onUpdate:modelValue":e[1]||(e[1]=e=>t.exportType=e)},null,512),[[s.G2,t.exportType]]),Ge]),(0,o._)("div",Je,[(0,o._)("button",{class:"button is-success",onClick:e[2]||(e[2]=(...t)=>n.exportDB&&n.exportDB(...t))},"Export")]),Qe,(0,o._)("div",Xe,[(0,o._)("button",{class:"button is-success",onClick:e[3]||(e[3]=e=>t.$refs.file.click())},"Import"),(0,o._)("input",{type:"file",style:{display:"none"},ref:"file",onChange:[e[4]||(e[4]=(...e)=>t.file&&t.file(...e)),e[5]||(e[5]=(...t)=>n.doStuff&&n.doStuff(...t))]},null,544)]),ti]),(0,o._)("footer",ei,[(0,o._)("button",{class:"button column is-light close-modal",onClick:e[6]||(e[6]=e=>t.$emit("close"))},"Close")])])])],2)}var si={name:"ImportExport",inject:["$database"],props:["visible"],data:()=>({exportType:"db",file:""}),methods:{exportDB(){const t=document.createElement("a");t.setAttribute("href",this.$database.export[this.exportType]()),t.setAttribute("download","jukestudio."+this.exportType),document.body.appendChild(t),t.click(),t.remove()},import(){},doStuff(t){const e=t.target.files[0],i=new FileReader;i.onload=()=>{let t="db";e.name.indexOf(".csv")>-1&&(t="csv"),this.$database.import[t](i.result)&&(this.$emit("reload"),this.$emit("close"))},i.readAsBinaryString(e)}}};const oi=(0,E.Z)(si,[["render",ii]]);var li=oi,ai={name:"App",components:{NavBar:M,NewRecord:Lt,DeleteRecord:Qt,DesignSettings:We,ImportExport:li},inject:["$styles","$database","$printer"],data:()=>({titles:[],newVisible:!1,deleteVisible:!1,recordToDelete:null,recordToEdit:null,designVisible:!1,importExportVisible:!1,affectAll:!1}),created:function(){this.getRecords()},methods:{getRecords:function(){this.titles=this.$database.titles.list().map((t=>(t.checked=!1,t)))},showNewRecord:function(){this.newVisible=!0},closeNewRecord:function(){this.getRecords(),this.recordToEdit=null,this.newVisible=!1},editRecord:function(t){this.recordToEdit=t,this.newVisible=!0},showDeleteRecord:function(t){this.recordToDelete=t,this.deleteVisible=!0},closeDeleteRecord:function(){this.getRecords(),this.recordToDelete=null,this.deleteVisible=!1},closeDesignSettings:function(){this.designVisible=!1},closeImportExport:function(){this.importExportVisible=!1},print:function(){let t=[];t=this.titles.filter((t=>!0===t.checked),t),0===t.length?this.$printer.print(this.titles):this.$printer.print(t)}},watch:{affectAll(){this.titles.forEach((t=>{t.checked=this.affectAll}))}},computed:{recordsChecked(){return this.titles.reduce(((t,e)=>t||e.checked),!1)},listRecordsChecked(){return this.titles.filter((t=>t.checked)).map((t=>t.id))}}};const ri=(0,E.Z)(ai,[["render",$],["__scopeId","data-v-94ae1416"]]);var ni=ri,ci=i(9322);const di=i(8807),hi=i(9322);let pi=null,ui=null,fi=null,mi={init:()=>new Promise((t=>{pi=new di("jukestudio_v2.db",{autoload:!0,autoloadCallback:()=>{ui=pi.getCollection("titles"),fi=pi.getCollection("options"),null===ui?(ui=pi.addCollection("titles",{clone:!0}),fi=pi.addCollection("options",{clone:!0}),fi.insert({allCaps:!0,quotes:!0,primaryColor:"red",shadeArtist:!1,shadeTitle:!1,font:"retro",style:"arrows",paperType:"letter",spacing:"normal",smallLabels:!1,thickBorders:!1}),mi.upgrade().then((()=>{t()}))):t(),mi.update(),ui.addListener("insert",(function(t){t.id=t.$loki,pi.getCollection("titles").update(t)}))}})})),options:{get:function(t=!1){const e=fi.findOne();return t in e?e[t]:null},set:function(t,e){if(void 0!==t&&void 0!==e){let i=fi.findOne();i[t]=e,fi.update(i),pi.saveDatabase()}},getAll:function(){let t=fi.chain().find().data({removeMeta:1})[0];return t}},titles:{get:t=>{const e=ui.get(t);return e},add:t=>{const e=ui.insert(t);return pi.saveDatabase(),e},update:(t,e)=>{let i=ui.get(t);const s=Object.keys(e);s.forEach((t=>{i[t]=e[t]})),Object.keys(i).includes("styleOverride")&&!s.includes("styleOverride")&&delete i.styleOverride,ui.update(i),pi.saveDatabase()},remove:t=>{t=parseInt(t);const e=ui.findOne({id:t});ui.remove(e),pi.saveDatabase()},list:()=>{const t=ui.chain().find().data({removeMeta:1});return t}},export:{csv:function(){let t=ui.chain().find().data({removeMeta:1}),e="data:text/csv;charset=utf-8,";return t.forEach((t=>{e+=[t.aside,t.bside,t.artist,t.artistb,t.recordID,t.genre].join(",")+"\r\n"})),e},db:function(){return"data:text/json;charset=utf-8,"+encodeURIComponent(pi.serialize())}},import:{csv:function(t){const e=t.split("\r\n");return e.forEach((t=>{let e=t.split(",");e.length>=3&&ui.insert({aside:e[0],bside:e[1],artist:e[2],artistb:e.length>=4?e[3]:"",recordID:e.length>=5?e[4]:"",genre:e.length>=6?e[5]:""})})),pi.saveDatabase(),!0},db:function(t){const e=JSON.parse(t);return"jukestudio.db"===e.filename&&(pi.loadJSONObject(e),pi.saveDatabase(),ui=pi.getCollection("titles"),fi=pi.getCollection("options")),!0}},upgradeColor:function(t){for(let e in hi.colors){const i=hi.colors[e];if(i.primary==t)return i.color}return"red"},update:function(){const t=ui.chain().find().data();t.forEach((t=>{Object.keys(t).includes("recordID")||(t.recordID="",t.tag="",ui.update(t)),Object.keys(t).includes("genre")||(t.genre="",ui.update(t))}));const e=fi.chain().find().data()[0];console.log(e),Object.keys(e).includes("smallLabels")||mi.options.set("smallLabels","false"),Object.keys(e).includes("thickBorders")||mi.options.set("thickBorders","false"),pi.saveDatabase()},upgrade:function(){return new Promise((t=>{let e=new di("jukestudio.db",{autoload:!0,autoloadCallback:()=>{let i=e.getCollection("titles"),s=e.getCollection("options");if(null!==i){i.chain().find().data({removeMeta:1}).forEach((t=>{let e={aside:t.aside,bside:t.bside,artist:t.artist,artistb:t.artistb,recordID:"",tag:"",genre:""};Object.keys(t).includes("style")&&(e.styleOverride={primaryColor:mi.upgradeColor(t.primaryColor),style:t.style,shadeArtist:t.artistFillColor,shadeTitle:t.titleFillColor}),mi.titles.add(e)}));const e=s.chain().find().data({removeMeta:1})[0];mi.options.set("allCaps",e.allCaps),mi.options.set("quotes",e.quotes),mi.options.set("primaryColor",mi.upgradeColor(e.primaryColor)),mi.options.set("shadeArtist",e.artistFillColor),mi.options.set("shadeTitle",e.titleFillColor),mi.options.set("font",e.font.toLowerCase()),mi.options.set("style",e.style),mi.options.set("paperType",e.paperType),mi.options.set("spacing",e.spacing),t()}t()}})}))}};var yi=mi;const bi=i(9770);let gi=null,xi={};bi.fonts={retro:{bold:new URL("fonts/Retro.ttf",document.location.toString()).toString()},retrocondensed:{bold:new URL("fonts/RetroCondensed.ttf",document.location.toString()).toString()},atypewriter:{bold:new URL("fonts/ATypewriter.ttf",document.location.toString()).toString()},merit:{bold:new URL("fonts/Merit.ttf",document.location.toString()).toString()}};let vi={init:t=>{gi=t},print:t=>{xi={content:[],jsmeta:{rows:0,columns:0,options:gi.options.getAll(),pageTitles:[]},images:{holly:new URL("images/holly.png",document.location.toString()).toString(),candycane:new URL("images/candycane.png",document.location.toString()).toString()}},vi.setupPages(xi,t),vi.printTitles(xi),vi.printRecordIDs(xi),xi.background=vi.printBackgrounds,bi.createPdf(xi).open()},setupPages(t,e){switch(t.jsmeta.options.paperType){case"single12":t.pageSize="LEGAL",t.pageMargins=[193.5,31.5,0,0],t.jsmeta.columns=1,t.jsmeta.rows=12;break;case"double10":t.pageSize="LETTER",t.pageMargins=[81,22.5,0,0],t.jsmeta.columns=2,t.jsmeta.rows=5;break;case"a4":t.pageSize="A4",t.pageMargins=[81,22.5,0,0],t.jsmeta.columns=2,t.jsmeta.rows=10;break;default:t.pageSize="LETTER",t.pageMargins=[81,"normal"===t.jsmeta.options.spacing?22.5:16.5,0,0],t.jsmeta.columns=2,t.jsmeta.rows=10;break}let i=JSON.parse(JSON.stringify(e));while(i.length>0){const e=i.splice(0,t.jsmeta.columns*t.jsmeta.rows);t.jsmeta.pageTitles.push(vi.formatTitles(e,t.jsmeta))}return t},thickBorders:function(t,e){return xi.jsmeta.options.thickBorders?{type:"rect",x:0+t,y:0+t,w:224-2*t,h:72-2*t,lineColor:e,lineWidth:1}:{}},backgrounds:{diamond:function(t,e,i){return{canvas:[{type:"rect",x:0,y:0,w:224,h:72,lineColor:i.primaryColor,lineWidth:1,color:i.titleTint},vi.thickBorders(1,i.primaryColor),vi.thickBorders(2,i.primaryColor),vi.thickBorders(3,i.primaryColor),{type:"line",x1:0,y1:36,x2:224,y2:36,lineWidth:9,lineColor:i.primaryColor},{type:"polyline",lineWidth:1.5,closePath:!0,points:[{x:35,y:27},{x:189,y:27},{x:198,y:36},{x:189,y:45},{x:35,y:45},{x:27,y:36}],lineColor:i.primaryColor,color:i.artistTint}],absolutePosition:{x:t,y:e}}},arrows:function(t,e,i){return{canvas:[{type:"rect",x:0,y:0,w:224,h:72,lineColor:i.primaryColor,lineWidth:1,color:i.titleTint},vi.thickBorders(1,i.primaryColor),vi.thickBorders(2,i.primaryColor),vi.thickBorders(3,i.primaryColor),{type:"line",x1:0,y1:36,x2:224,y2:36,lineWidth:9,lineColor:i.primaryColor},{type:"rect",x:32.5,y:27,w:160,h:18,color:i.artistTint,lineColor:i.primaryColor,lineWidth:1.5},{type:"polyline",lineWidth:3,closePath:!0,points:[{x:32,y:27},{x:32,y:45},{x:40,y:36}],color:i.primaryColor},{type:"polyline",lineWidth:3,closePath:!0,points:[{x:193,y:27},{x:193,y:45},{x:184,y:36}],color:i.primaryColor}],absolutePosition:{x:t,y:e}}},multiple:function(t,e,i){return{canvas:[{type:"rect",x:0,y:0,w:224,h:72,lineColor:i.primaryColor,lineWidth:1,color:i.titleTint},vi.thickBorders(1,i.primaryColor),vi.thickBorders(2,i.primaryColor),vi.thickBorders(3,i.primaryColor),{type:"line",x1:30,y1:36,x2:194,y2:36,lineWidth:2,lineColor:i.primaryColor}],absolutePosition:{x:t,y:e}}},holly:function(t,e){return[{canvas:[{type:"rect",x:0,y:0,w:224,h:72,color:"#ffffff",lineColor:ci.styles.holly.primaryColor,lineWidth:1},{type:"line",x1:30,y1:26,x2:194,y2:26,lineWidth:1.5,lineColor:ci.styles.holly.primaryColor},{type:"line",x1:30,y1:46,x2:194,y2:46,lineWidth:1.5,lineColor:ci.styles.holly.primaryColor}],absolutePosition:{x:t,y:e}},{image:"holly",width:16,absolutePosition:{x:t+10,y:e+20}},{image:"holly",width:16,absolutePosition:{x:t+200,y:e+20}}]},candycane:function(t,e){return[{canvas:[{type:"rect",x:0,y:0,w:224,h:72,lineColor:ci.styles.candycane.primaryColor,color:ci.styles.candycane.titleTint,lineWidth:1},{type:"rect",x:32.5,y:27,w:160,h:18,color:ci.styles.candycane.artistTint,lineColor:ci.styles.candycane.primaryColor,lineWidth:1.5},{type:"polyline",lineWidth:3,closePath:!0,points:[{x:32,y:27},{x:32,y:45},{x:40,y:36}],color:ci.styles.candycane.primaryColor},{type:"polyline",lineWidth:3,closePath:!0,points:[{x:193,y:27},{x:193,y:45},{x:184,y:36}],color:ci.styles.candycane.primaryColor}],absolutePosition:{x:t,y:e}},{image:"candycane",width:22,absolutePosition:{x:t+5,y:e+8}},{image:"candycane",width:22,absolutePosition:{x:t+197,y:e+8}}]}},printBackgrounds:function(t){const e=xi.jsmeta.options.spacing,i={normal:{left:81.5,right:305.5},wide:{left:80.5,right:306.5}},s={normal:22.5,wide:16.5},o={normal:0,wide:4},l=xi.jsmeta.pageTitles[t-1];let a=[];return l.forEach(((t,l)=>{var r=l<10?l:l-10,n=l<10?i[e].left:i[e].right,c=72*r+r*o[e]+s[e];a.push(vi.backgrounds[t.style](n,c,t))})),a},printRecordIDs:function(t){const e=t.jsmeta.options.spacing,i={normal:{left:81.5,right:305.5},wide:{left:80.5,right:306.5}},s={normal:22.5,wide:16.5},o={normal:0,wide:4};t.jsmeta.pageTitles.forEach(((l,a)=>{let r=[];l.forEach(((t,l)=>{var a=l<10?l:l-10,n=l<10?i[e].left:i[e].right,c=72*a+a*o[e]+s[e];const d=vi.measureText(t.recordID,t.fontName,t.idSize);if(r.push({text:t.recordID,font:t.font,fontSize:t.idSize,bold:!0,absolutePosition:{x:n+222-d,y:c+72-t.idSize}}),"arrows"===t.style&&""!==t.genre){const e=vi.measureText("HIT","retro",8);r.push({text:"HIT",font:"retro",fontSize:8,color:"#ffffff",bold:!0,absolutePosition:{x:n+30-e,y:c+36-t.idSize/2}}),r.push({text:t.genre.toUpperCase(),font:"retro",fontSize:8,color:"#ffffff",bold:!0,absolutePosition:{x:n+225-30,y:c+36-t.idSize/2}})}})),t.content[a].unshift(r)}))},getTitleASide:function(t){return{text:t.aside,margin:[t.margins,t.fontMargins.aside,t.margins,0],border:[!1,!1,!1,!1],fillColor:!1,font:t.font,fontSize:t.titleSize,bold:!0}},getTitleArtist:function(t){let e=[],i="";return!0===t.mergeArtist?(e=[t.margins,t.fontMargins.artist,t.margins,0],i=t.artist+(""!==t.artistb?" / "+t.artistb:"")):(e=[t.margins,-7,t.margins,-7],i=t.artist+"\n\n"+(""!==t.artistb?t.artistb:t.artist)),{text:i,margin:e,border:[!1,!1,!1,!1],fillColor:!1,font:t.font,fontSize:t.artistSize,bold:!0}},getTitleBSide:function(t){return{text:t.bside,margin:[t.margins,t.fontMargins.bside,t.margins,0],border:[!1,!1,!1,!1],fillColor:!1,font:t.font,fontSize:t.titleSize,bold:!0}},printTitles:function(t){for(let e=0;e<t.jsmeta.pageTitles.length;e++){let i=[];for(let r=0;r<t.jsmeta.rows&&r<t.jsmeta.pageTitles[e].length;r++){const s=t.jsmeta.pageTitles[e][r],o=2==t.jsmeta.columns&&t.jsmeta.pageTitles[e].length>r+t.jsmeta.rows?t.jsmeta.pageTitles[e][r+t.jsmeta.rows]:null;let l=[this.getTitleASide(s)];2==t.jsmeta.columns&&(o?l.push(this.getTitleASide(o)):l.push({text:"",border:[!1,!1,!1,!1]})),i.push(l),l=[this.getTitleArtist(s)],2==t.jsmeta.columns&&(null!==o?l.push(this.getTitleArtist(o)):l.push({text:"",border:[!1,!1,!1,!1]})),i.push(l),l=[this.getTitleBSide(s)],2==t.jsmeta.columns&&(null!==o?l.push(this.getTitleBSide(o)):l.push({text:"",border:[!1,!1,!1,!1]})),i.push(l)}const s=t.jsmeta.options.spacing,o={normal:[21.5,14,21.5],wide:[21.5,14,25.5]};let l=[];for(let t=0;t<10;t++)l=l.concat(o[s]);let a=[{alignment:"center",table:{heights:l,widths:2==t.jsmeta.columns?[215,215]:[215],body:i},pageBreak:e!==t.jsmeta.pageTitles.length-1?"after":""}];t.content.push(a)}},measureText(t,e,i){let s=document.createElement("canvas");s.width="225px";let o=s.getContext("2d");return o.font=Math.ceil(i)+"px "+e,o.textAlign="center",o.textBaseline="middle",o.measureText(t).width},sideBreaker:function(t,e,i){for(let s of["a","b"]){let o=vi.measureText(t[s+"side"],e.font,e.titleSize);o>215-2*i.margins&&(t[s+"wrap"]=!0)}},formatTitles:function(t,e){let i=[];for(let s of t){let t={aside:s.aside,bside:s.bside,artist:s.artist,artistb:s.artistb,recordID:s.recordID,genre:s.genre,tag:s.tag,awrap:!1,bwrap:!1},o=ci.fonts[e.options.font],l=null;if(e.options.allCaps&&(t.aside=t.aside.toUpperCase(),t.artist=t.artist.toUpperCase(),t.artistb=t.artistb.toUpperCase(),t.bside=t.bside.toUpperCase(),t.recordID=t.recordID.toUpperCase()||""),e.options.quotes&&(t.aside='"'+t.aside+'"',t.bside='"'+t.bside+'"'),Object.keys(s).includes("styleOverride")){for(let e of["style","primaryColor","shadeTitle","shadeArtist"])t[e]=s.styleOverride[e];l=ci.styles[s.styleOverride.style]}else{for(let i of["style","primaryColor","shadeTitle","shadeArtist"])t[i]=e.options[i];l=ci.styles[e.options.style]}t.maxwidth=l.maxwidth,t.margins=l.margins,t.mergeArtist=l.mergeArtist,t.font=o.font,t.fontName=o.name,t.titleSize=o.titleSize,t.artistSize=o.artistSize,t.idSize=o.idSize;const a=t.primaryColor;t.primaryColor=ci.colors[t.primaryColor].primary,!0!==t.shadeTitle||"a4"!==e.options.paperType&&"letter"!==e.options.paperType?t.titleTint="#ffffff":t.titleTint=ci.colors[a].fill,!0!==t.shadeArtist||"a4"!==e.options.paperType&&"letter"!==e.options.paperType?t.artistTint="#ffffff":t.artistTint=ci.colors[a].fill,vi.sideBreaker(t,o,l),t.fontMargins={aside:o.margins.aside[t.awrap?0:1],artist:o.margins.artist[0],bside:o.margins.bside[t.bwrap?0:1]},i.push(t)}return i}};var Ci=vi;Ci.init(yi),yi.init().then((()=>{const t=(0,s.ri)(ni);t.provide("$styles",ci),t.provide("$database",yi),t.provide("$printer",Ci),t.mount("#app")}))},693:function(){},9322:function(t){"use strict";t.exports=JSON.parse('{"styles":{"arrows":{"name":"Arrows","style":"arrows","maxwidth":265,"margins":8,"mergeArtist":true},"diamond":{"name":"Diamond","style":"diamond","maxwidth":265,"margins":8,"mergeArtist":true},"multiple":{"name":"Split Artist","style":"multiple","maxwidth":265,"margins":8,"mergeArtist":false},"holly":{"name":"Holly","style":"holly","artistTint":"#ffffff","titleTint":"#ffffff","primaryColor":"#ff0000","maxwidth":242,"margins":22,"mergeArtist":true},"candycane":{"name":"Candy Cane","style":"candycane","artistTint":"#ffffff","titleTint":"#ABDCA8","primaryColor":"#D3444A","maxwidth":242,"margins":22,"mergeArtist":true}},"fonts":{"retro":{"font":"retro","name":"Retro","titleSize":10,"artistSize":9,"idSize":7,"margins":{"aside":[1,7.5],"artist":[2.5],"bside":[0.1,4]}},"retrocondensed":{"font":"retrocondensed","name":"Retro Condensed","titleSize":10,"artistSize":9,"idSize":7,"margins":{"aside":[1,7.5],"artist":[2.5],"bside":[0.1,4]}},"atypewriter":{"font":"atypewriter","name":"ATypewriter","titleSize":8.7,"artistSize":8,"idSize":6,"margins":{"aside":[0,7.5],"artist":[2.5],"bside":[0,4]}},"merit":{"font":"merit","name":"Merit","titleSize":10,"artistSize":9,"idSize":7,"margins":{"aside":[0,7.5],"artist":[2.5],"bside":[0,4]}}},"colors":{"green":{"color":"green","name":"Green","primary":"#5fae6f","fill":"#dfefe2"},"red":{"color":"red","name":"Red","primary":"#ff0000","fill":"#ffcccc"},"blue":{"color":"blue","name":"Blue","primary":"#00a0de","fill":"#ccecf8"},"purple":{"color":"purple","name":"Purple","primary":"#80578f","fill":"#e6dde9"},"orange":{"color":"orange","name":"Orange","primary":"#ee6b3f","fill":"#fce1d9"},"pink":{"color":"pink","name":"Pink","primary":"#f55ea3","fill":"#f1a3cb"},"mono":{"color":"mono","name":"Monochrome","primary":"#000000","fill":"#dddddd"}}}')}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var l=e[s]={exports:{}};return t[s].call(l.exports,l,l.exports,i),l.exports}i.m=t,function(){var t=[];i.O=function(e,s,o,l){if(!s){var a=1/0;for(d=0;d<t.length;d++){s=t[d][0],o=t[d][1],l=t[d][2];for(var r=!0,n=0;n<s.length;n++)(!1&l||a>=l)&&Object.keys(i.O).every((function(t){return i.O[t](s[n])}))?s.splice(n--,1):(r=!1,l<a&&(a=l));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}l=l||0;for(var d=t.length;d>0&&t[d-1][2]>l;d--)t[d]=t[d-1];t[d]=[s,o,l]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.p="/"}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,l,a=s[0],r=s[1],n=s[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)i.o(r,o)&&(i.m[o]=r[o]);if(n)var d=n(i)}for(e&&e(s);c<a.length;c++)l=a[c],i.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return i.O(d)},s=self["webpackChunkjukestudio"]=self["webpackChunkjukestudio"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(4370)}));s=i.O(s)})();
//# sourceMappingURL=app.4793e1c0.js.map